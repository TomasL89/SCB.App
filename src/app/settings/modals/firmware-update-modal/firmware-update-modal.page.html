<ion-header>
  <ion-toolbar>
    <ion-icon name="arrow-back-outline" (click)="dismiss()" class="ion-padding" style="float: left; font-size: 30px;"></ion-icon>
    <ion-icon name="code-download-outline" (click)="updateDeviceFirmware()" class="ion-padding" style="float: right; font-size: 30px;"></ion-icon>
  </ion-toolbar>
</ion-header>

<ion-content>
  <ion-card>
    <ion-card-content>
      <ion-item *ngIf="firmwareInfo" lines="none">
        <ion-label position="stacked">Firmware Version</ion-label>
        <ion-select 
          [(ngModel)]="selectedFirmwareVersion">
          <ion-select-option 
            *ngFor="let fwVersion of firmwareInfo"
            [value]="fwVersion"
            >{{fwVersion.version}}</ion-select-option>
        </ion-select>
      </ion-item>
    </ion-card-content>
  </ion-card>
  <ion-card *ngIf="selectedFirmwareVersion && selectedFirmwareVersion.features?.length > 0">
    <ion-card-content>
      <ion-item lines="none">
        <ion-label position="stacked">Features</ion-label>
        <ion-list>
          <ion-item *ngFor="let feature of selectedFirmwareVersion.features" lines="none">{{feature}}</ion-item>
        </ion-list>
      </ion-item>
    </ion-card-content>
  </ion-card>
  <ion-card *ngIf="selectedFirmwareVersion && selectedFirmwareVersion.bugFixes?.length > 0">
    <ion-card-content>
      <ion-item lines="none">
        <ion-label position="stacked">Bugs</ion-label>
        <ion-item *ngFor="let bugFix of selectedFirmwareVersion.bugFixes" lines="none">{{bugFix}}</ion-item>
      </ion-item>
    </ion-card-content>
  </ion-card>
</ion-content>
